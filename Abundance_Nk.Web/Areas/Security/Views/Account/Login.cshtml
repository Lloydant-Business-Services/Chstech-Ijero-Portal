@model Abundance_Nk.Web.Models.LoginViewModel
@{
    ViewBag.Title = "Login";
    Layout = null;
}
<!doctype>
<html lang="en">
<head>
    <style>
        #myImg {
            border-radius: 5px;
            cursor: pointer;
            transition: 0.3s;
        }

            #myImg:hover {
                opacity: 0.7;
            }

        .modalSpin {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 4444; /* Sit on top */
            padding-top: 100px; /* Location of the box */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgb(0,0,0); /* Fallback color */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }

        .modal-content-spin {
            margin: auto;
            margin-top: 120px;
            display: block;
            width: 60%;
            max-width: 200px;
            background-color: ghostwhite;
            padding: 30px;
            border-radius: 60px;
        }

        .modal-in-spin {
            margin: auto;
            margin-top: 15px;
            display: block;
            width: 60%;
            max-width: 130px;
            background-color: whitesmoke;
            padding: 20px;
            border-radius: 30px;
            display: none
        }

        #caption {
            margin: auto;
            display: block;
            width: 80%;
            max-width: 500px;
            text-align: center;
            color: #ccc;
            padding: 10px 0;
            height: 150px;
        }

        .modal-content, #caption {
            animation-name: zoom;
            animation-duration: 0.6s;
        }
        /* The Close Button */
        .close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
        }

            .close:hover,
            .close:focus {
                color: #bbb;
                text-decoration: none;
                cursor: pointer;
            }
        body {
            font-family: Quicksand, sans-serif !important;
        }
    </style>

    <title>CHSTECH Ijero-Ekiti | Login</title>
    <!--     Fonts and icons     -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />
    <!-- CSS Files -->
    <link href="~/Content/theme/login/assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/Content/theme/login/assets/css/now-ui-kit.css" rel="stylesheet" />
    <link href="~/Content/theme/login/assets/css/wfmi-style.css" rel="stylesheet" />
    @*<link href="~/Content/theme/login/assets/css/custom-style.css" rel="stylesheet" />*@


    @*<link href="~/Content/sbCss/bootstrap.min.css" rel="stylesheet" />
        <link href="~/Content/sbCss/sb-admin.css" rel="stylesheet" />*@

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
    </style>

</head>
<body>
    <div class="container-fluid"></div>
    <div class="col-md-12 bodi  m-0 p-0">

        <nav class="navbar navbar-toggleable-md navbar-expand-lg bg-primary p-0" color-on-scroll="500" style="background-color: #2f422f!important; z-index:999!important">
            <div class=" pl-2" style="width:100%;">
                <div class="row">
                    <div class="col-md-3 col-sm-12">
                        <div class="navbar-translate">
                            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="navbar-toggler-bar bar1"></span>
                                <span class="navbar-toggler-bar bar2"></span>
                                <span class="navbar-toggler-bar bar3"></span>
                            </button>
                            <a class="navbar-brand ml-2" href="#">
                                @*<img src="~/Content/images/school_logo.jpg" alt="logo">*@
                                <b style="font-size: 18px">The College Of Health Sciences and Technology, Ijero-Ekiti</b>
                            </a>
                        </div>
                    </div>

                    <div class="col-md-9 col-sm-12 text-right pt-2">
                        <div class="collapse navbar-collapse justify-content-end" id="navigation" data-nav-image="~/Content/theme/index/assets/img/blurred-image-1.jpg">
                            <ul class="navbar-nav">

                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#"><span class="menu-title">APPLICANTS</span></a>

                                    <ul class="dropdown-menu bg-primary" aria-labelledby="dropdown" style="color: #333 !important;">
                                        <li class="dropdown-item">@Html.ActionLink("Generate Invoice", "FormInvoiceGeneration", "Form", new { Area = "Applicant" }, null)</li>
                                        <li class="dropdown-item">@Html.ActionLink("Generate Reciept", "GenerateReciept", "Credential", new { Area = "Common" }, null)</li>

                                        <li class="dropdown-item">@Html.ActionLink("Fill Application Form", "FillApplicationForm", "Form", new { Area = "Applicant" }, null)</li>
                                        <li class="divider"></li>

                                    </ul>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#"><span class="menu-title">RETURNING STUDENT</span></a>

                                    <ul class="dropdown-menu bg-primary" aria-labelledby="dropdown" style="color: #333 !important;">
                                        @*<li>@Html.ActionLink("Generate Invoice", "Index", "Payment", new { Area = "Student" }, null)</li>
                                        *@
                                    </ul>
                                </li>


                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#"><span class="menu-title">GRADUATE</span></a>

                                    <ul class="dropdown-menu bg-primary" aria-labelledby="dropdown" style="color: #333 !important;">
                                        <li>@Html.ActionLink("Transcript Request", "Index", "Transcript", new { type = "", Area = "Applicant" }, null)</li>
                                        <li>@Html.ActionLink("Print Receipt", "PrintTranscriptReciept", "Transcript", new { type = "", Area = "Applicant" }, null)</li>

                                    </ul>
                                </li>



                            </ul>
                            <div class="col-md-2 bg-warning hidden-md-down text-center pt-3" style="margin:-18px 0 -20px 0; background-color: #b72f9cfc!important;">
                                <a class="nav-link" href="@Url.Action("Login","Account", new { Area = "Security" })">
                                    <span class="navbar-text">

                                        <p>LOGIN</p>

                                    </span>
                                </a>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </nav>

        
        <!-- Image and text -->
        <div>




            <div class="container p-0">


                <div class="container-fluid ">
                    <div class="container">
                        <div class="card col-md-6 offset-md-3 p-4">

                            @if (TempData["Message"] != null)
                            {
                                @Html.Partial("_Message", (Abundance_Nk.Model.Model.Message)TempData["Message"])
                            }


                            @using (Html.BeginForm("Login", "Account", new { Area = "Security", ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post))
                            {
                                @*<form class="card col-md-6 offset-md-3 p-4" style="box-shadow: 0px 5px 25px 0px rgba(0, 0, 0, 0.4);">*@
                                @Html.AntiForgeryToken()
                                <h5 class="pt-3">LOG IN TO YOUR ACCOUNT</h5>
                                <div class="separator01 separator-primary"></div>
                                <div class="form-group">
                                    <label for="regNo">REGISTRATION NO.</label>
                                    @Html.TextBoxFor(m => m.UserName, new { @class = "form-control", id = "regNo", type = "text", placeholder = "Username" })
                                    @Html.ValidationMessageFor(m => m.UserName)
                                    @*<input id="regNo" class="form-control" type="text" placeholder="2016/1111111" />*@
                                </div>

                                <div class="form-group">
                                    <label for="password">Password</label>
                                    @Html.PasswordFor(m => m.Password, new { id = "password", @class = "form-control", type = "password", placeholder = "*******" })
                                    @Html.ValidationMessageFor(m => m.Password)
                                    @*<input id="password" class="form-control" type="text" placeholder="*******" />*@
                                </div>


                                <div class="form-group pl-1 mt-5">
                                    <button type="submit" onclick="TestingFunc()" class="btn btn-primary btn-block" style="background-color:rgb(13 80 8 / 52%)!important;">LOGIN</button>
                                </div>
                                @*</form>*@
                            }
                            <div class="form-group pl-1 mt-5">
                                <button onclick="showPasswordResetModal()" class="btn btn-default">Forgot Password</button>
                            </div>
                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="clearfix"></div>

    <div class="container-fluid pt-5 pb-5 Design3">
        <div class="container">
            <div class="row">
                <div class="col-md-4 col-sm-12 text-center">
                    <img src="~/Content/theme/index/assets/img/call.svg" class=" text-right" alt="SEMESTER RESULTS" height="90px" />
                </div>

                <div class="col-md-7 col-sm-12 pt-1">
                    <span class="font-1"><b>ARE YOU EXPERIENCING ANY DIFFICULTIES OR ISSUES?</b></span><br />
                    @*<b>CALL:</b> 07088391544 or 090838920222<br />*@
                    <b>CALL:</b> 09025945943, 07033226929, 07088391544 or 090838920222<br />
                    <b>EMAIL SUPPORT:</b> support@lloydant.com
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid blueBg">
        <div class="row bg-primary-opacity" style="background-color: #2f422f!important;">

            <div class="col-md-4 col-sm-12 text-white  pt-5 pb-4">
                <h5>EMPLOYEE EXTERNAL LINKS</h5>
                <div class="separator separator-primary"></div>
                <ul>
                    <li>Administrative Guide</li>
                    <li>Faculty &amp; Staff Help center</li>
                    <li>Services</li>
                </ul>
            </div>

            <div class="col-md-4 col-sm-12 text-white  pt-5 pb-4">
                <h5>ACADEMIC EXTERNAL LINKS </h5>
                <div class="separator separator-primary"></div>
                <ul>
                    <li>Explore Courses </li>
                    <li>Student services center</li>
                    <li>Explore Degrees</li>
                </ul>
            </div>

            <div class="col-md-4 col-sm-12 text-white  p-5">
                <h5 class="mb-0">THE FEDERAL POLYTECHNIC</h5>
                <sub>ADO-EKITI</sub>
                <br /><br />
                <h6>ABOUT</h6>
                The Federal Polytechnic Ado-Ekiti
            </div>
        </div>
    </div>

    <div class="container-fluid bg-primary line-1"></div>

    <div class="container-fluid bg-primary p-1">
        <div class="row">
            <div class="col-md-8 col-sm-12">
                &copy; THE FEDERAL POLYTECHNIC ADO-EKITI,<br>
                EKITI STATE.
            </div>
            <div class="col-md-4 col-sm-12 text-right">
                Powered by <img class="image" style="height: 30px; width: 30px" src="~/Content/images/lloydant.png" />
            </div>
        </div>
    </div>

    <div class="modal fade" role="dialog" id="passwordRestModal" style="z-index: 1000000">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Password Reset</h4>
                </div>
                <div class="modal-body">
                    <blockquote><i>Enter your username and email address below to reset your password.</i></blockquote>
                    <div class="form-group">
                        @Html.Label("Username:", new { @class = "control-label text-bold" })
                        @Html.TextBox("usernameForPasswordReset", null, new { @class = "form-control", placeholder = "e.g. FPA/AC/17/1-", id = "usernameForPasswordReset" })
                    </div>
                    <div class="form-group">
                        @Html.Label("Email:", new { @class = "control-label text-bold" })
                        @Html.TextBox("email", null, new { @class = "form-control", id = "email", type = "email" })
                    </div>

                </div>
                <div class="modal-footer form-group">
                    <button type="button" id="btnResetPassword" class="btn btn-success" onclick="resetPassword()">Reset</button>
                    <span style="display: none" id="load"><img src="~/Content/Images/bx_loader.gif" /></span>

                    <button type="button" class="btn btn-success" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div id="infoModal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Important Information</h4>
                </div>
                <div class="modal-body">
                    <p>
                        Please use your Matric Number as the username and <strong>1234567</strong> as the default password. <br />
                        Remember to change your password once you login to avoid compromise on your profile
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>

    </div>


    <!-- Spinner Modal -->
    <div id="spinnerModal" class="modalSpin">

        <div>
            <img class="modal-content-spin" id="img01" src="~/Content/Images/spinner.gif">
        </div>

    </div>






    <!-- Start of Smartsupp Live Chat script -->
    <script type="text/javascript">
        var _smartsupp = _smartsupp || {};
        _smartsupp.key = "8d8c5c64fa82b02ea860a7f80d5a93c351259935";
        //
        _smartsupp.cookieDomain = '.97.74.6.243/fedpolyado';
        _smartsupp.requireLogin = true;
        // disable email
        _smartsupp.loginEmailControl = false;
        // append checkbox control to confirm something
        _smartsupp.loginControls = [{
            xtype: 'textinput',
            name: 'number',
            label: 'Phone',
            required: true
        }, {
            xtype: 'textinput',
            name: 'identifier',
            label: 'Application / Matric No',
            required: true
        }];
        window.smartsupp || (function (d) {
            var s, c, o = smartsupp = function () { o._.push(arguments) }; o._ = [];
            s = d.getElementsByTagName('script')[0]; c = d.createElement('script');
            c.type = 'text/javascript'; c.charset = 'utf-8'; c.async = true;
            c.src = '//www.smartsuppchat.com/loader.js'; s.parentNode.insertBefore(c, s);
        })(document);
    </script>
    <!-- End of Smartsupp Live Chat script -->
    <script>
        // customize banner & logo
        smartsupp('banner:set', 'bubble');
        smartsupp('chat:avatar', '@Url.Content("~/Content/Images/livechat.png")');
        // customize texts
        smartsupp('chat:translate', {
            online: {
                title: 'Support',
                infoTitle: 'LLOYDANT'
            },
            offline: {
                title: 'OFFLINE'
            }
        });
        // customize colors
        smartsupp('theme:colors', {
            primary: '#990066',
            banner: '#999999',
            primaryText: '#ffffff'
        });
    </script>

    <script src="~/Content/theme/login/assets/js/core/jquery.3.2.1.min.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="~/Content/theme/login/assets/js/core/bootstrap.min.js"></script>
    @*@Scripts.Render("~/bundles/jqueryval")*@

    <script type="text/javascript">
        function TestingFunc() {
            $('#spinnerModal').modal('show');
        }
        function showPasswordResetModal() {
            $("#passwordRestModal").modal('show');
        }
        function resetPassword() {
            var username = $("#usernameForPasswordReset").val();
            var email = $("#email").val();
            $("#load").show();
            if (!username || !email) {
                alert("Kindly ensure that the username and email address are correctly entered before proceeding.");
                $("#load").hide();
                return;
            }
            else {
                alert("Contact the school admin for password reset.");
                $("#load").hide();
                return;
                 @*$.ajax({
                    type: 'POST',
                    url: '@Url.Action("ResetPassword", "Account")', // Calling json method
                     dataType: 'json',
                     data: { user: username, userMail: email },
                     success: function (result) {
                         $("#load").hide();
                         if (!result.IsError) {
                             alert("Your password has been reset, follow the instructions in the mail sent to you to see your new password");
                             $("#passwordRestModal").modal('hide');
                         }
                         else {
                             alert(result.Message);
                             $("#passwordRestModal").modal('hide');
                         }
                    },
                     error: function (jqXHR) {
                         $("#load").hide();
                         alert('Failed.' + jqXHR.statusText);
                         $("#passwordRestModal").modal('hide');
                    }
                });*@
            }
        }
        @*function validateEmail(email) {
          var re = /\S+@\S+\.\S+/;
          return re.test(email);
        }*@
    </script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('#infoModal').modal('show');
        });
    </script>

</body>
</html>